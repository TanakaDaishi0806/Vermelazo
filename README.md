# サッカーサークル部内戦管理Webアプリの機能紹介

## 使用言語・環境
- Go (version:1.20)
- React (version:18.2.0)
- Material UI
- Docker
- GCP

## 機能のリスト
### 管理者
- 部内戦の日程追加・変更・削除
- 公開状況の変更
- チーム作成・変更
- 部内戦の試合組み合わせの作成・変更
- 試合スコア・得点者の登録・変更
- 部内戦でのポジションごとのMOMを登録・変更
### ユーザー
- 参加状況の確認・変更
- チーム編成の閲覧機能
- 試合の投票機能
- 試合結果の閲覧機能
- ランクの閲覧機能
- ログアウト機能
### その他
- ログイン機能
- ユーザーの新規登録機能

<img width="300" alt="スクリーンショット 2023-07-19 114811" src="https://github.com/TanakaDaishi0806/Vermelazo/assets/81969953/9e24c166-6567-4000-9b5e-e325b193b798">

※左から順に、管理者のホーム/ユーザーのホーム

## 機能詳細
### 部内戦の日程追加・変更・削除
部内戦の日程を追加するには、管理者ページの進行中の方にある日程追加ボタンを押しすと日程追加ページに遷移する。そこで、部内戦のタイトル・実施日程・投票期限を入力し日程を追加ボタンを押すと、元の画面に戻り部内戦情報が追加で表示されていれば、正しく部内戦がデータベースに追加されたことが確認できる。

<img width="450" alt="スクリーンショット 2023-07-19 114811" src="https://github.com/TanakaDaishi0806/Vermelazo/assets/81969953/5d89c396-92b2-4576-a0d7-634473dddabe">

※左から順、初期の変更画面/日程変更時の画面/変更後の遷移画面

日程・タイトルの変更は、該当する部内戦の日程等項目の変更を押すと先ほどのような変更ページに遷移するので、そこで変更する項目のみ変更し変更ボタンを押すことで変更される。
また部内戦自体の削除は、該当する部内戦カードの右上にあるゴミ箱マークを押すと削除確認画面が現れるので、削除する場合は削除ボタンを押すことで削除できる。削除しない場合は、キャンセルボタンを押すと元の画面に戻る。

<img width="300" alt="スクリーンショット 2023-07-19 114811" src="https://github.com/TanakaDaishi0806/Vermelazo/assets/81969953/70ec0103-b3c2-4888-8817-04971b1ebc76">

※左から順に、初期の変更画面/ゴミ箱ボタン押した後の確認画面

### 公開状況の変更
部内戦を作った初期状態では、ユーザーに部内戦情報は公開されません。公開するには、公開状況の非公開ボタンをタップして公開に変えると、ユーザーのホームにも表示されるようになる。

### チーム作成・変更
チーム編成を行うには、まずは各部内戦の新規チーム作成ボタンを押すと、チーム数を入力する画面に遷移する。そこでチーム数を入力しチーム作成ボタンを押すことで、チーム作成を行うことがでる。その後、チーム編成が表示され、画面の下にはチームメンバーの変更ができる部分がある。そこで、移動したいメンバーを選択し矢印ボタンを押すと移動することができる。変更を確定させるには、変更ボタンを押す必要がある。変更を確認するには、画面上のチーム編成の表示を見ることで確認できる。

<img width="450" alt="スクリーンショット 2023-07-19 114811" src="https://github.com/TanakaDaishi0806/Vermelazo/assets/81969953/8bc189f6-b317-4271-b010-be0192f93403">

※左から順に、チーム数入力画面/チーム編成表示/チームメンバー変更

<img width="450" alt="スクリーンショット 2023-07-19 114811" src="https://github.com/TanakaDaishi0806/Vermelazo/assets/81969953/3199420a-8561-466e-b70d-61d40b0120cf">

※左から順に、移動したいチームメンバー選択/移動後/変更確定後のチーム編成表示

また、チーム数を変更してもレイアウトはほとんど崩れることはなく、変更したいチームは上のSelectBoxで変更することができる。

### 部内戦の試合組み合わせの作成・変更
部内戦の試合の組み合わせを作成したいときは、各部内戦の組合せ項目の作成ボタンを押すと、試合の繰り返し回数を入力する画面に遷移する。そこで数字を入力して試合作成ボタンを押すと、自動的に最適な組合せが作成される。これはチーム数が変わっても最適な組合せを作成することが可能である。変更したいときは、変更ボタンを押すことで試合いの繰返し回数入力画面に遷移する。

<img width="450" alt="スクリーンショット 2023-07-19 114811" src="https://github.com/TanakaDaishi0806/Vermelazo/assets/81969953/9b8cf1f2-68ac-41a2-9b66-b226cd192c8c">

※左から順に、試合の繰返し回数入力画面/3チームの繰返し回数1回/3チームの繰返し回数2回


<img width="300" alt="スクリーンショット 2023-07-19 114811" src="https://github.com/TanakaDaishi0806/Vermelazo/assets/81969953/275df5a6-78c6-4fb9-94a7-4a7349f8f0b5">

※左から順に、4チームの繰返し回数1回/4チームの繰返し回数1回

### 試合スコア・得点者の登録・変更
試合が終了して、点数と得点者を入力するときは、各部内戦の試合結果の項目の登録画面ボタンを押すことで試合の登録リストの画面に遷移する。そこで、登録したい試合の登録ボタンを押すことで、点数と得点者を入力する画面に遷移する。得点者の入力は、得点者横の＋ボタンとーボタンを押すことで得点数を変更でき、入力した得点と同じになるように入力しないとエラーテキストが出てきて、登録されないようになっている。

<img width="300" alt="スクリーンショット 2023-07-19 114811" src="https://github.com/TanakaDaishi0806/Vermelazo/assets/81969953/5eb20fe2-0991-4940-b397-b193ad1a3249">

※左から順に、スコア登録する試合リスト/スコア・得点者入力画面

スコア・得点者の変更をしたいとき、登録済みの試合の登録ボタンは変更ボタンに変わるので、その変更ボタンを押すことで、スコア・得点者入力画面に遷移する。このとき、前回の入力結果が表示されるので、変更したい箇所を変更すればよい。

<img width="300" alt="スクリーンショット 2023-07-19 114811" src="https://github.com/TanakaDaishi0806/Vermelazo/assets/81969953/5cc61e63-e8d6-4ae5-a63e-945816c10d24">

※左から順に、スコア登録する試合リスト（変更）/スコア・得点者入力画面（変更）

### 部内戦でのポジションごとのMOMを登録・変更
部内戦では、ポジションごと（GK・DF・OF）ごとにMOM（一番良かった人）を選出できる。各部内戦のMOM項目の登録画面ボタンをおすと、各ポジションごとに試合に出たユーザーが表示されるので、その中から一番良かったプレーヤーを1人選択して登録ボタンを押すと登録される。登録すると、先ほどのMOM項目の登録画面ボタンが変更ボタンに変わるので、変更したいときは変更ボタンを押して、前回登録したユーザーが選択されてるので、変更したいユーザーを選択して登録ボタンを押すことで変更される。

<img width="450" alt="スクリーンショット 2023-07-19 114811" src="https://github.com/TanakaDaishi0806/Vermelazo/assets/81969953/e276e093-eeaf-493d-8524-9b6c4009a4bc">

※左から順に、GKのMOM登録画面/DFのMOM登録画面/OFのMOM登録画面

### 参加状況の確認・変更
ユーザーは、参加状況の項目で自身が各部内戦に参加しているかどうかを確認することができる。初期状態は不参加ボタンとなっているので、参加したい場合は不参加ボタンをタップして参加ボタンが表示されるようにする必要がある。気が変わって、不参加にしたい場合は、参加ボタンをタップして不参加ボタンが表示されるようにする。

<img width="300" alt="スクリーンショット 2023-07-19 114811" src="https://github.com/TanakaDaishi0806/Vermelazo/assets/81969953/a0bb69c7-96e2-4db7-a62c-a091b19f1f8d">

※左から順に、不参加の状態/参加の状態

### 試合の投票機能
試合の投票の種類には2種類あります。

- 投票（MYTEAM）
- 投票（Match）

まず投票（MYTEAM）は、自チームの試合に対して、自チームの中で良かった3人に投票することができる。次に投票（Match）は、他チームの試合に対して、出てたチームの中で良かった3人に投票することができる。試合に参加すると、投票項目が表示され、投票画面ボタンを押すと投票する試合リストが表示される。試合が終わるごとに、投票ボタンを押して投票する。一度投票した試合は変更できない。

<img width="600" alt="スクリーンショット 2023-07-19 114811" src="https://github.com/TanakaDaishi0806/Vermelazo/assets/81969953/d19f992c-aa14-4013-add5-a44fbc44254f">

※左から順に、初期の投票テーブル/投票（MYTEAM）/投票（Match）/投票後の投票テーブル

### 試合結果の閲覧機能
試合結果の閲覧は、進行中の各部内戦の途中結果項目の閲覧ボタン、または過去の各部内戦の試合結果項目の閲覧ボタンを押すことで見ることができる。各試合の試合詳細をタップすることで、得点者や試合のMOMを見ることもできる。また、ポジションMOMの結果や得点王などは過去の各部内戦情報から確認できる。

<img width="600" alt="スクリーンショット 2023-07-19 114811" src="https://github.com/TanakaDaishi0806/Vermelazo/assets/81969953/618b9bf0-c0fd-4cf9-b896-6462306af1e4">

※左から順に、部内戦の試合結果/チームのランキング/試合詳細/MOMと得点王の確認画面

### ランクの閲覧機能
各ユーザーは自分のランキングを見ることができます。ランキングは各ユーザーのポイントによって決まり、ポイントは試合結果や投票結果に影響されます。

<img width="146" alt="スクリーンショット 2023-07-19 114811" src="https://github.com/TanakaDaishi0806/Vermelazo/assets/81969953/105ad08b-7aa2-43e3-a8ac-ac6074066fec">

※ランク表示画面

## 追加した機能のリスト
- ログイン状態の保持（アプリが落ちたときに再度ログイン情報を打ち直さなくて良いように追加実装）
- 部内戦でのポイントの倍増
- 部内戦中の最適な画面レイアウト
- パスワードの再設定（パスワードを忘れた人用）

## 追加した機能詳細
### ログイン状態の保持
部内戦を実施してみて、部内戦中にアプリを利用する際に何度かログインをし直す手間がかかり、投票率が落ちた原因の一つだと考えた。そこで、投票までの手間を減らし投票率を少しでも上げるために、ログイン状態の保持をする機能を追加した。具体的には、アプリが落ちてログイン画面に遷移した場合、バックエンドと通信を行いログイン期限内であれば、ホーム画面に自動で遷移する機能を実装した。

### 部内戦でのポイント倍増
部内戦を実施し、ランク機能などによりユーザーがポイントの価値について周知した中で、部内戦への継続的な参加の促進や、特別感のある部内戦の実施などを目的とした機能を追加した。具体的には、部内戦でユーザーが得られる全てのポイントを何倍するかを設定する機能とその表示機能を実装した。

### 部内戦中の最適な画面レイアウト
部内戦を実施してみて、投票率が低いと考えた。その原因の一つとして、投票までの手間がかかるからだと考えた。そこで、部内戦中は下の図のように投票しやすい画面レイアウトが表示されるような実装を行った。

<img width="360" alt="スクリーンショット 2023-07-19 114811" src="https://github.com/TanakaDaishi0806/Vermelazo/assets/81969953/1b976804-96ce-4310-8b05-7ecec743f970">

※左から順、部内戦のポイント表示画面（部内戦カードの右上）/部内戦中の画面レイアウト

### パスワードの再設定
必要な機能であるため実装を行った。機能の概要は、パスワード再設定のために学籍番号と登録しているメールアドレスを入力してもらい、その情報を元に再設定用URLを含めたメールを送信する。そのメールで送られてくる再設定用URLで30分以内であればパスワードを変更することができる。

<img width="550" alt="スクリーンショット 2023-07-19 114811" src="https://github.com/TanakaDaishi0806/Vermelazo/assets/81969953/d76570d1-1921-4490-b265-8cbc486f345c">

※左から順、再設定用メール送信のための情報入力画面/ユーザーが受けとるメール画面/パスワード再設定画面





## アピールポイント

このWebアプリの一番のポイントは、自動チーム編成機能である。ユーザーごとの経験歴・ポジション・試合で得られるポイントを使うことで、チームの実力が大体等しくなるような機能の実現を目指した。実際に利用してみて、ある程度の効果は期待できそうであると感じた。